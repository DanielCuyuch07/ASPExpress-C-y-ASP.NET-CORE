<!-- VIEW REGISTER  -->
@model ProyectMVC.Models.Usuario;

@{
    Layout = null;
}

<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width" />
    <title>Registrarse</title>

    <!-- LINK BOOTSTRAP   -->
    <link rel="stylesheet" href="~/lib/bootstrap/dist/css/bootstrap.min.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">

</head>
<body style="background-image:url('img/img-login-portada3.jpg')">
    <section>
        <div class="container">

            <div class="row justify-content-center">
                <div class="col-md-6 text-center mb-5">
                    <!-- Tu contenido aquí si es necesario -->
                </div>
            </div>

            <div class="row justify-content-center align-items-center mt-5">
                <div class="col-md-6 col-lg-4 mt-3">
                    <div class="login-wrap p-0">

                        <h1 class="text-center mb-4 fs-3">REGISTER</h1>

                        <form asp-controller="Inicio" asp-action="Registrarse" id="registro-form" method="post">

                            <div class="form-group mt-5">

                                <i class="bi bi-circle-fill me-2  ms-1  small-icon text-success "></i>
                                <label class="form-label fs-6" for="form2Example1"><b>Username</b></label>
                                <input class="form-control"
                                       placeholder="Ingrese su correo electronico "
                                       asp-for="NombreUsuario" />

                                <div class="form-group mt-4" for="form2Example1">
                                    <i class="bi bi-circle-fill me-2  ms-1  small-icon text-success "></i>
                                    <label class="form-label fs-6"><b>Correo</b></label>
                                    <div class="row">
                                        <div class="col-12">

                                            <input type="text"
                                                   class="form-control"
                                                   placeholder="Ingrese su nombre completo"
                                                   asp-for="Correo" />
                                        </div>
                                    </div>
                                </div>

                                <div class="form-group mt-4" for="form2Example1">
                                    <i class="bi bi-circle-fill me-2  ms-1  small-icon text-success "></i>
                                    <label class="form-label fs-6"><b>Password</b></label>
                                    <div class="row">
                                        <div class="col-12">
                                            <input class="form-control" 
                                            type="password" placeholder="Ingrese su contraseña" 
                                            asp-for="Clave" />
                                        </div>
                                    </div>
                                </div>

                            </div>

                            <div class="form-group mt-5 text-center">
                                <button type="submit"
                                        class="btn btn-primary text-decoration-none">
                                    <i class="bi bi-person-circle fs-5 fw-bold me-2"></i>Registrate
                                </button>
                            </div>

                            <div class="mt-3 text-center">
                                @if (ViewData["Mensaje"] != null)
                                {

                                    <div class="form-group">
                                        <div class="alert alert-danger" role="alert">
                                            @ViewData["Mensaje"]
                                        </div>
                                    </div>
                                }
                                ¿Ya tienes una cuenta? <a href="@Url.Action("IniciarSesion","Inicio")"> Iniciar Sesion</a>
                            </div>

                        </form>
                    </div>
                </div>
            </div>
        </div>
    </section>

    @section scripts {
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script>
        <script>
            $(document).ready(function () {
                $('#registro-form').submit(function (e) {
                    e.preventDefault();
                    var form = $(this);
                    Swal.fire({
                        title: '¿Estás seguro?',
                        text: '¿Quieres registrar este usuario?',
                        icon: 'question',
                        showCancelButton: true,
                        confirmButtonColor: '#3085d6',
                        cancelButtonColor: '#d33',
                        confirmButtonText: 'Sí, registrar'
                    }).then((result) => {
                        if (result.isConfirmed) {
                            // Si el usuario confirma, enviar el formulario
                            form.unbind('submit').submit(); // Enviar el formulario después de confirmar
                        }
                    });
                });
            });
        </script>
    }

    <script src="~/lib/jquery/dist/jquery.min.js"></script>
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>

